<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Home</title>
    <link rel="stylesheet" href="/css/masterStyle.css" />

</head>
<body>
    <form method="post">
        <div class="headdiv">
            <h1>EMPLOYEE MANAGEMENT SYSTEM</h1>
        </div>

        <div class="menubar">

            <a href="master.html"><label id="home">HOME</label></a>

            <a href="ResetPass.html"><label>RESET PASSWORD</label></a>

            <a href="Login.html"><label id="logout">LOGOUT</label></a>

        </div>
    </form>

    <div class="head2">
        <h2>Employee All Records</h2>
    </div>
    <div class="tablediv">
        <table id="tblEmployee">
            <thead>
                <tr>
                    <td>ID</td>
                    <td>First Name</td>
                    <td>Last Name</td>
                    <td>City</td>
                    <td>State</td>
                    <td>Zip</td>
                    <td>Contact</td>
                    <td>E-mail</td>
                    <td colspan="2" id="action">Action</td>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>


    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript">
        $(function () {
            $.ajax({

                url: "/api/get",
                type: "GET",
                dataType: 'json',
                
                success: function (data) {
                    var EmployeeRecord = $("#tblEmployee tbody");
                    $(data).each(function (index, emp) {
                        EmployeeRecord.append('<tr><td>' + emp.id + '</td><td>' + emp.firstName + '</td><td>' + emp.lastName + '</td><td>' + emp.city + '</td><td>' + emp.state + '</td><td>' + emp.zip
                            + '</td><td>' + emp.contact + '</td><td>' + emp.email + '<td ><a href= Update.html><label id=editlabel>Edit</label></a></td>' + '<td ><a href= master.html><label id=deletlabel>Delete</label></a></td>');
                            console.log(emp);
                    });
                }
            });
        });
    </script>


    <!--<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript">

        $(function () {
            $("#tblEmployee tbody tr").remove();
            $.ajax({
                type: 'GET',
                url: "/api/get",
                dataType: 'json',
                data: { id: '' },
                success: function (data) {
                    var items = '';
                    $.each(data, function (i, item) {
                        var rows = "<tr>"
                            + "<td >" + item.Id + "</td>"
                            + "<td >" + item.FirstName + "</td>"
                            + "<td >" + item.LastName + "</td>"
                            + "<td >" + item.City + "</td>"
                            + "<td >" + item.State + "</td>"
                            + "<td >" + item.Zip + "</td>"
                            //+ "<td ><a href=" + master.html + "><label id=editlabel>Edit</label></a></td>"
                            //+ "<td ><a href=" + master.html + "><label id=deletlabel>Delete</label></a></td>"
                            + "</tr>";
                        $('#tblStudent tbody').append(rows);
                    });
                },
                error: function (ex) {
                    var r = jQuery.parseJSON(response.responseText);
                    alert("Message: " + r.Message);
                    alert("StackTrace: " + r.StackTrace);
                    alert("ExceptionType: " + r.ExceptionType);
                }
            });
            return false;
        });
    </script>-->
</body>
</html>